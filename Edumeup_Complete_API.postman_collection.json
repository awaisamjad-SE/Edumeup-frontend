{
  "info": {
    "name": "Edumeup Complete API",
    "description": "Complete Edumeup API with Auth, Courses, Payments, and Moodle SSO",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Student",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\",\n  \"username\": \"student1\",\n  \"password\": \"SecurePass123\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/register/student",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "register",
                "student"
              ]
            }
          }
        },
        {
          "name": "Register Parent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"parent@example.com\",\n  \"username\": \"parent1\",\n  \"password\": \"SecurePass123\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/register/parent",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "register",
                "parent"
              ]
            }
          }
        },
        {
          "name": "Register Teacher",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"teacher@example.com\",\n  \"username\": \"teacher1\",\n  \"password\": \"SecurePass123\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/register/teacher",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "register",
                "teacher"
              ]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var jsonData = pm.response.json();",
                  "  pm.environment.set('access_token', jsonData.access);",
                  "  pm.environment.set('refresh_token', jsonData.refresh);",
                  "  pm.environment.set('user_id', jsonData.user.id);",
                  "  pm.environment.set('user_email', jsonData.user.email);",
                  "  console.log('âœ… Login successful! Token saved.');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"SecurePass123\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/login",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/refresh-token",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "refresh-token"
              ]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/logout",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "logout"
              ]
            }
          }
        },
        {
          "name": "Verify Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"<token_from_email_or_console>\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/verify-email",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "verify-email"
              ]
            }
          }
        },
        {
          "name": "Resend Verification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/resend-verification",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "resend-verification"
              ]
            }
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/forgot-password",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "forgot-password"
              ]
            }
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"<reset_token>\",\n  \"new_password\": \"NewSecurePass123\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/reset-password",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "reset-password"
              ]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"old_password\": \"SecurePass123\",\n  \"new_password\": \"NewSecurePass123\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/auth/change-password",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "change-password"
              ]
            }
          }
        },
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/users/me",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "users",
                "me"
              ]
            }
          }
        },
        {
          "name": "Update My Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"student_updated\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/users/me",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "users",
                "me"
              ]
            }
          }
        },
        {
          "name": "Update Avatar",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"avatar_url\": \"https://example.com/avatar.png\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/users/me/avatar",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "users",
                "me",
                "avatar"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "User Profiles",
      "item": [
        {
          "name": "Get Student Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/students/{{student_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "students",
                "{{student_id}}"
              ]
            }
          }
        },
        {
          "name": "Update Student Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/students/{{student_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "students",
                "{{student_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Parent Children",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/parents/{{parent_id}}/children",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "parents",
                "{{parent_id}}",
                "children"
              ]
            }
          }
        },
        {
          "name": "Link Child to Parent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"student_id\": {{student_id}}\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/parents/{{parent_id}}/link-child",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "parents",
                "{{parent_id}}",
                "link-child"
              ]
            }
          }
        },
        {
          "name": "Unlink Child from Parent",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/parents/{{parent_id}}/unlink-child/{{student_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "parents",
                "{{parent_id}}",
                "unlink-child",
                "{{student_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Teacher Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}"
              ]
            }
          }
        },
        {
          "name": "Update Teacher Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1234567890\",\n  \"bio\": \"Updated bio\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}"
              ]
            }
          }
        },
        {
          "name": "Upload Teacher CV",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cv_url\": \"https://example.com/cv.pdf\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}/upload-cv",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}",
                "upload-cv"
              ]
            }
          }
        },
        {
          "name": "Get Teacher Availability",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}/availability",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}",
                "availability"
              ]
            }
          }
        },
        {
          "name": "Update Teacher Availability",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"weekday\": 1,\n    \"start_time\": \"09:00\",\n    \"end_time\": \"12:00\"\n  }\n]"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}/availability",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}",
                "availability"
              ]
            }
          }
        },
        {
          "name": "Get Teacher Subjects",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}/subjects",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}",
                "subjects"
              ]
            }
          }
        },
        {
          "name": "Add Teacher Subject",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mathematics\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}/subjects",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}",
                "subjects"
              ]
            }
          }
        },
        {
          "name": "Delete Teacher Subject",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/teachers/{{teacher_id}}/subjects/{{subject_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "teachers",
                "{{teacher_id}}",
                "subjects",
                "{{subject_id}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Courses",
      "item": [
        {
          "name": "List All Courses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses"
              ]
            }
          }
        },
        {
          "name": "Get Featured Courses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/featured",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "featured"
              ]
            }
          }
        },
        {
          "name": "Search Courses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/search?q=python",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "search"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "python"
                }
              ]
            }
          }
        },
        {
          "name": "Filter Courses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/filter?level=Beginner&category=1",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "filter"
              ],
              "query": [
                {
                  "key": "level",
                  "value": "Beginner"
                },
                {
                  "key": "category",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Get Course Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Similar Courses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/similar",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "similar"
              ]
            }
          }
        },
        {
          "name": "Get Course Curriculum",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/curriculum",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "curriculum"
              ]
            }
          }
        },
        {
          "name": "Add Course Curriculum",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Intro\",\n  \"content\": \"Lesson content\",\n  \"order\": 1\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/curriculum",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "curriculum"
              ]
            }
          }
        },
        {
          "name": "Update Course Curriculum",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Intro Updated\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/curriculum/{{section_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "curriculum",
                "{{section_id}}"
              ]
            }
          }
        },
        {
          "name": "Delete Course Curriculum",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/curriculum/{{section_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "curriculum",
                "{{section_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Course Requirements",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/requirements",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "requirements"
              ]
            }
          }
        },
        {
          "name": "Add Course Requirement",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"text\": \"Basic Python knowledge\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/requirements",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "requirements"
              ]
            }
          }
        },
        {
          "name": "Delete Course Requirement",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/requirements/{{requirement_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "requirements",
                "{{requirement_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Course FAQs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/faqs",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "faqs"
              ]
            }
          }
        },
        {
          "name": "Add Course FAQ",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"question\": \"What is covered?\",\n  \"answer\": \"Basics to advanced\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/faqs",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "faqs"
              ]
            }
          }
        },
        {
          "name": "Update Course FAQ",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"answer\": \"Updated answer\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/faqs/{{faq_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "faqs",
                "{{faq_id}}"
              ]
            }
          }
        },
        {
          "name": "Delete Course FAQ",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/faqs/{{faq_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "faqs",
                "{{faq_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Course Reviews",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/reviews",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "reviews"
              ]
            }
          }
        },
        {
          "name": "Add Course Review",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 5,\n  \"comment\": \"Great course\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/reviews",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "reviews"
              ]
            }
          }
        },
        {
          "name": "Create Course (Admin/Teacher)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Advanced Python\",\n  \"description\": \"Learn advanced Python concepts\",\n  \"price\": \"4999.00\",\n  \"level\": \"Advanced\",\n  \"status\": \"published\",\n  \"category\": 1\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses"
              ]
            }
          }
        },
        {
          "name": "Update Course (Admin/Teacher)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Advanced Python Updated\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}"
              ]
            }
          }
        },
        {
          "name": "Delete Course (Admin/Teacher)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}"
              ]
            }
          }
        },
        {
          "name": "Publish Course",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/publish",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "publish"
              ]
            }
          }
        },
        {
          "name": "Unpublish Course",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/unpublish",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "unpublish"
              ]
            }
          }
        },
        {
          "name": "Update Course Thumbnail",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"thumbnail_url\": \"https://example.com/thumb.png\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/thumbnail",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "thumbnail"
              ]
            }
          }
        },
        {
          "name": "List Categories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/categories",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "categories"
              ]
            }
          }
        },
        {
          "name": "Get Category Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/categories/{{category_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "categories",
                "{{category_id}}"
              ]
            }
          }
        },
        {
          "name": "Create Category (Admin/Teacher)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Programming\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/categories",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "categories"
              ]
            }
          }
        },
        {
          "name": "Update Category (Admin/Teacher)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Programming Updated\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/categories/{{category_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "categories",
                "{{category_id}}"
              ]
            }
          }
        },
        {
          "name": "Delete Category (Admin/Teacher)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/categories/{{category_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "categories",
                "{{category_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Category Courses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/categories/{{category_id}}/courses",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "categories",
                "{{category_id}}",
                "courses"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Shopping Cart",
      "item": [
        {
          "name": "View Cart",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "X-Guest-Token",
                "value": "{{guest_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/cart",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "cart"
              ]
            }
          }
        },
        {
          "name": "Add to Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "X-Guest-Token",
                "value": "{{guest_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"course_id\": 2,\n  \"quantity\": 1\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/cart/add",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "cart",
                "add"
              ]
            }
          }
        },
        {
          "name": "Get Cart Total",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "X-Guest-Token",
                "value": "{{guest_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/cart/total",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "cart",
                "total"
              ]
            }
          }
        },
        {
          "name": "Remove from Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "X-Guest-Token",
                "value": "{{guest_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/cart/remove/2",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "cart",
                "remove",
                "2"
              ]
            }
          }
        },
        {
          "name": "Clear Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "X-Guest-Token",
                "value": "{{guest_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/cart",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "cart"
              ]
            }
          }
        },
        {
          "name": "View Wishlist",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/wishlist",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "wishlist"
              ]
            }
          }
        },
        {
          "name": "Add to Wishlist",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"course_id\": {{course_id}}\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/wishlist/add",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "wishlist",
                "add"
              ]
            }
          }
        },
        {
          "name": "Remove from Wishlist",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/wishlist/remove/{{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "wishlist",
                "remove",
                "{{course_id}}"
              ]
            }
          }
        },
        {
          "name": "Move Wishlist to Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/commerce/wishlist/move-to-cart/{{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "commerce",
                "wishlist",
                "move-to-cart",
                "{{course_id}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Create Order - Check Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "  var jsonData = pm.response.json();",
                  "  pm.environment.set('payment_id', jsonData.id);",
                  "  console.log('âœ… Payment created: ' + jsonData.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"gateway\": \"check_payment\",\n  \"coupon_code\": \"\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/create-order",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "create-order"
              ]
            }
          }
        },
        {
          "name": "Create Order - PayFast",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"gateway\": \"payfast\",\n  \"coupon_code\": \"\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/create-order",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "create-order"
              ]
            }
          }
        },
        {
          "name": "Create Order - Manual (Instant)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"gateway\": \"manual\",\n  \"coupon_code\": \"\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/create-order",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "create-order"
              ]
            }
          }
        },
        {
          "name": "Create Order - Guest Checkout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"gateway\": \"manual\",\n  \"coupon_code\": \"\",\n  \"email\": \"guest@example.com\",\n  \"phone\": \"+1234567890\",\n  \"guest_token\": \"{{guest_token}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/create-order",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "create-order"
              ]
            }
          }
        },
        {
          "name": "View Payment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/{{payment_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{payment_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Payment Invoice",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/{{payment_id}}/invoice",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{payment_id}}",
                "invoice"
              ]
            }
          }
        },
        {
          "name": "My Payments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/my",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "my"
              ]
            }
          }
        },
        {
          "name": "Validate Coupon",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"coupon_code\": \"SAVE10\",\n  \"total_before\": 5000\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/validate-coupon",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "validate-coupon"
              ]
            }
          }
        },
        {
          "name": "Request Refund",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_id\": {{payment_id}},\n  \"reason\": \"Course not needed\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/refund-request",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "refund-request"
              ]
            }
          }
        },
        {
          "name": "Approve Payment (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/{{payment_id}}/approve",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{payment_id}}",
                "approve"
              ]
            }
          }
        },
        {
          "name": "Reject Payment (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/{{payment_id}}/reject",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{payment_id}}",
                "reject"
              ]
            }
          }
        },
        {
          "name": "View Refund Requests (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/refunds",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "refunds"
              ]
            }
          }
        },
        {
          "name": "Get Refund Detail (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/refunds/{{refund_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "refunds",
                "{{refund_id}}"
              ]
            }
          }
        },
        {
          "name": "Process Refund (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/refunds/{{refund_id}}/process",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "refunds",
                "{{refund_id}}",
                "process"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Enrollments & Dashboard",
      "item": [
        {
          "name": "Student Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/dashboard/student",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "dashboard",
                "student"
              ]
            }
          }
        },
        {
          "name": "My Enrolled Courses",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/my-courses",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "my-courses"
              ]
            }
          }
        },
        {
          "name": "Get Enrollment Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/{{enrollment_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "{{enrollment_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Course Progress",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/{{enrollment_id}}/progress",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "{{enrollment_id}}",
                "progress"
              ]
            }
          }
        },
        {
          "name": "Get Certificate",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/{{enrollment_id}}/certificate",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "{{enrollment_id}}",
                "certificate"
              ]
            }
          }
        },
        {
          "name": "Unenroll",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/{{enrollment_id}}/unenroll",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "{{enrollment_id}}",
                "unenroll"
              ]
            }
          }
        },
        {
          "name": "Manual Enroll (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": 3,\n  \"course_id\": 2\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/manual-enroll",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "manual-enroll"
              ]
            }
          }
        },
        {
          "name": "Student Enrollments (Parent/Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/student/{{student_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "student",
                "{{student_id}}"
              ]
            }
          }
        },
        {
          "name": "Course Enrollments (Teacher/Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/course/{{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "course",
                "{{course_id}}"
              ]
            }
          }
        },
        {
          "name": "View All Enrollments (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/all",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "all"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Moodle Integration",
      "item": [
        {
          "name": "Get Moodle SSO URL (Current User)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var jsonData = pm.response.json();",
                  "  pm.environment.set('sso_url', jsonData.sso_url);",
                  "  console.log('âœ… SSO URL ready!');",
                  "  console.log('ðŸ”— URL: ' + jsonData.sso_url);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sso-url",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sso-url"
              ]
            }
          }
        },
        {
          "name": "Get Moodle SSO URL for Specific Course",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sso-url?courseId={{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sso-url"
              ],
              "query": [
                {
                  "key": "courseId",
                  "value": "{{course_id}}"
                }
              ]
            }
          }
        },
        {
          "name": "Moodle Redirect (Legacy)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/redirect",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "redirect"
              ]
            }
          }
        },
        {
          "name": "Moodle Redirect with Course (Legacy)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/redirect?courseId={{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "redirect"
              ],
              "query": [
                {
                  "key": "courseId",
                  "value": "{{course_id}}"
                }
              ]
            }
          }
        },
        {
          "name": "Sync User to Moodle (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sync-user/{{user_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sync-user",
                "{{user_id}}"
              ]
            }
          }
        },
        {
          "name": "Sync Course to Moodle (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sync-course/{{course_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sync-course",
                "{{course_id}}"
              ]
            }
          }
        },
        {
          "name": "Sync Enrollment to Moodle (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sync-enrollment/{{enrollment_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sync-enrollment",
                "{{enrollment_id}}"
              ]
            }
          }
        },
        {
          "name": "Sync All Users to Moodle (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sync-all-users",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sync-all-users"
              ]
            }
          }
        },
        {
          "name": "Sync All Courses from Moodle (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sync-courses-from-moodle",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sync-courses-from-moodle"
              ]
            }
          }
        },
        {
          "name": "Pull Course Progress from Moodle",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/pull-progress/{{enrollment_id}}",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "pull-progress",
                "{{enrollment_id}}"
              ]
            }
          }
        },
        {
          "name": "View Sync Logs (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/sync-logs",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "sync-logs"
              ]
            }
          }
        },
        {
          "name": "Moodle Webhook (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/webhook",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "webhook"
              ]
            }
          }
        },
        {
          "name": "Fix Password Change (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/fix-password-change",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "fix-password-change"
              ]
            }
          }
        },
        {
          "name": "Attempt Bulk Password Fix (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/moodle/attempt-bulk-password-fix",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "moodle",
                "attempt-bulk-password-fix"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Admin Functions",
      "item": [
        {
          "name": "View All Refund Requests (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/refunds",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "refunds"
              ]
            }
          }
        },
        {
          "name": "Process Refund (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/payments/refunds/{{refund_id}}/process",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "refunds",
                "{{refund_id}}",
                "process"
              ]
            }
          }
        },
        {
          "name": "View All Enrollments (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/enrollments/all",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "enrollments",
                "all"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "User Profile",
      "item": [
        {
          "name": "Get Me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/users/me",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "users",
                "me"
              ]
            }
          }
        },
        {
          "name": "Get Me (Sync from Moodle)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/users/me?sync_from_moodle=true",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "users",
                "me"
              ],
              "query": [
                {
                  "key": "sync_from_moodle",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Update Me",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"updated_username\",\n  \"avatar_url\": \"https://example.com/avatar.jpg\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/users/me",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "users",
                "me"
              ]
            }
          }
        },
        {
          "name": "Update Avatar",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"avatar_url\": \"https://example.com/new-avatar.jpg\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/users/me/avatar",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "users",
                "me",
                "avatar"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Course Reviews",
      "item": [
        {
          "name": "Get Course Reviews",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/reviews",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "reviews"
              ]
            }
          }
        },
        {
          "name": "Create Course Review",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 5,\n  \"comment\": \"Excellent course! Highly recommended.\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/v1/courses/{{course_id}}/reviews",
              "host": [
                "{{BASE_URL}}"
              ],
              "path": [
                "api",
                "v1",
                "courses",
                "{{course_id}}",
                "reviews"
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "BASE_URL",
      "value": "http://127.0.0.1:8000",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "student_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "parent_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "teacher_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "subject_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "course_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "category_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "section_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "requirement_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "faq_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "enrollment_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "refund_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "guest_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "refresh_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_email",
      "value": "",
      "type": "string"
    },
    {
      "key": "payment_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "sso_url",
      "value": "",
      "type": "string"
    }
  ]
}
